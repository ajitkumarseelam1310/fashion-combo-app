(()=>{"use strict";var e={3844:(e,t,r)=>{var n=r(8894),o=r(4467),a=r(467),i=r(296),l=r(6665),s=r(3929),d=r(6283),c=r(3004),u=r(9685),f=r(2440),b=r(530),p=r(9323),h=r(3117),y=r(397);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v="http://localhost:3000/api",m=["top","bottom","handbag","accessories","shoes"];var x=p.default.create({container:{flex:1,backgroundColor:"#fff"},loaderContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#fff"},header:{padding:16,backgroundColor:"#E0E7FF"},headerText:{fontSize:22,fontWeight:"bold",color:"#4338CA"},scrollContainer:{padding:12},gridContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},card:{width:"30%",marginVertical:8,backgroundColor:"#F3F4F6",padding:10,borderRadius:12,alignItems:"center"},image:{width:"100%",height:90,borderRadius:8},label:{marginTop:6,fontWeight:"600",textTransform:"capitalize",fontSize:13},buttonRow:{flexDirection:"row",justifyContent:"space-around",width:"100%",marginTop:6},submitContainer:{alignItems:"center",marginTop:20},submitButton:{backgroundColor:"#4338CA",paddingVertical:12,paddingHorizontal:30,borderRadius:10},disabledButton:{backgroundColor:"#A5B4FC"},submitText:{color:"#fff",fontWeight:"bold",fontSize:16}});(0,n.default)((function(){var e=(0,l.useState)({}),t=(0,i.default)(e,2),r=t[0],n=t[1],p=(0,l.useState)({}),g=(0,i.default)(p,2),O=g[0],C=g[1],w=(0,l.useState)(!0),S=(0,i.default)(w,2),P=S[0],k=S[1],T=(0,l.useState)(null),z=(0,i.default)(T,2),F=(z[0],z[1]),D=function(){var e=(0,a.default)((function*(){k(!0),C({});try{var e=yield fetch(`${v}/combination`),t=yield e.json();n(t),k(!1)}catch(r){F("Failed to load images."),k(!1)}}));return function(){return e.apply(this,arguments)}}(),E=function(e,t){C((function(r){return j(j({},r),{},(0,o.default)({},e,t))}))},R=function(){var e=(0,a.default)((function*(){try{var e=yield fetch(`${v}/decision`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentCombination:r,decisions:O})}),t=yield e.json();t.error||(n(t),C({}))}catch(o){console.error("Submission error:",o)}}));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){D()}),[]),P?(0,y.jsx)(s.default,{style:x.loaderContainer,children:(0,y.jsx)(b.default,{size:"large",color:"#000"})}):(0,y.jsxs)(s.default,{style:x.container,children:[(0,y.jsx)(h.default,{style:"dark"}),(0,y.jsx)(s.default,{style:x.header,children:(0,y.jsx)(d.default,{style:x.headerText,children:"Fashion Combo Review"})}),(0,y.jsxs)(f.default,{contentContainerStyle:x.scrollContainer,children:[(0,y.jsx)(s.default,{style:x.gridContainer,children:m.map((function(e){var t;return(0,y.jsxs)(s.default,{style:x.card,children:[(0,y.jsx)(c.default,{source:{uri:null==(t=r[e])?void 0:t.url},style:x.image,resizeMode:"cover"}),(0,y.jsx)(d.default,{style:x.label,children:e}),(0,y.jsxs)(s.default,{style:x.buttonRow,children:[(0,y.jsx)(u.default,{onPress:function(){return E(e,"accept")},children:(0,y.jsx)(d.default,{style:{color:"accept"===O[e]?"green":"gray",fontSize:20},children:"\u2714"})}),(0,y.jsx)(u.default,{onPress:function(){return E(e,"reject")},children:(0,y.jsx)(d.default,{style:{color:"reject"===O[e]?"red":"gray",fontSize:20},children:"\u2716"})})]})]},e)}))}),(0,y.jsx)(s.default,{style:x.submitContainer,children:(0,y.jsx)(u.default,{style:[x.submitButton,Object.keys(O).length<5&&x.disabledButton],onPress:R,disabled:Object.keys(O).length<5,children:(0,y.jsx)(d.default,{style:x.submitText,children:"Next"})})})]})]})}))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.m=e,(()=>{var e=[];r.O=(t,n,o,a)=>{if(!n){var i=1/0;for(c=0;c<e.length;c++){for(var[n,o,a]=e[c],l=!0,s=0;s<n.length;s++)(!1&a||i>=a)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(l=!1,a<i&&(i=a));if(l){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,o,a]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[i,l,s]=n,d=0;if(i.some((t=>0!==e[t]))){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(s)var c=s(r)}for(t&&t(n);d<i.length;d++)a=i[d],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[780],(()=>r(3844)));n=r.O(n)})();
//# sourceMappingURL=main.9c1d5d4d.js.map